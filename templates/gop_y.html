<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title> GÃ³p Ã / BÃ¡o Lá»—i - SolverViet</title>
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='logos/favicon.png') }}">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen text-gray-800 font-sans">

  <!-- Header -->
  <div class="bg-white py-6 shadow">
    <h1 class="text-3xl font-bold text-center text-red-600">TRUNG TÃ‚M Há»– TRá»¢ SOLVERVIET</h1>
  </div>

  <!-- Form Container -->
  <div class="max-w-3xl mx-auto mt-10 bg-white p-6 rounded-xl shadow-lg">
    <h2 class="text-xl font-bold text-red-600 mb-4 border-b border-red-300 pb-2">ğŸ“¢ GÃ³p Ã / BÃ¡o Lá»—i Cho SolverViet</h2>
    <a href="/" class="inline-block mb-4 text-sm text-blue-500 hover:underline">â† Quay láº¡i trang chá»§</a>

    <p class="text-sm text-gray-600 mb-6">ÄÃ¢y lÃ  biá»ƒu máº«u dÃ nh cho ngÆ°á»i dÃ¹ng gáº·p sá»± cá»‘, lá»—i há»‡ thá»‘ng hoáº·c cáº§n há»— trá»£ nhanh chÃ³ng tá»« quáº£n trá»‹ viÃªn SolverViet. HÃ£y Ä‘iá»n thÃ´ng tin chÃ­nh xÃ¡c Ä‘á»ƒ chÃºng tÃ´i cÃ³ thá»ƒ pháº£n há»“i sá»›m nháº¥t.</p>

    {% if not success %}
    <form method="POST" action="/gop-y" enctype="multipart/form-data">

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-1"> Báº¡n muá»‘n gá»­i gÃ¬?</label>
        <select name="category" required class="w-full p-3 rounded bg-gray-100 border border-gray-300">
          <option value="">-- Chá»n loáº¡i gÃ³p Ã½ --</option>
          <option value="Gá»£i Ã½ thÃªm tÃ­nh nÄƒng">Gá»£i Ã½ thÃªm tÃ­nh nÄƒng</option>
          <option value="BÃ¡o lá»—i"> BÃ¡o lá»—i</option>
          <option value="GÃ³p Ã½ ná»™i dung">GÃ³p Ã½ ná»™i dung</option>
          <option value="Khiáº¿u náº¡i"> Khiáº¿u náº¡i</option>
          <option value="KhÃ¡c"> KhÃ¡c?</option>
        </select>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-1"> Há» vÃ  tÃªn *</label>
        <input type="text" name="full_name" required class="w-full p-3 rounded bg-gray-100 text-gray-800 border border-gray-300 outline-none focus:ring-2 focus:ring-cyan-400">
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-1"> MÃ£ ID ngÆ°á»i dÃ¹ng SolverViet</label>
        <input type="text" name="user_id" placeholder="VD: d360e94a-..." class="w-full p-3 rounded bg-gray-100 text-gray-800 border border-gray-300 outline-none focus:ring-2 focus:ring-cyan-400">
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-1"> Email nháº­n pháº£n há»“i *</label>
        <input type="email" name="user_email" required placeholder="your.email@example.com" class="w-full p-3 rounded bg-gray-100 text-gray-800 border border-gray-300 outline-none focus:ring-2 focus:ring-cyan-400">
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-1"> Ná»™i dung gÃ³p Ã½ hoáº·c bÃ¡o lá»—i *</label>
        <textarea name="message" rows="6" required placeholder="Nháº­p ná»™i dung táº¡i Ä‘Ã¢y..." class="w-full p-3 rounded bg-gray-100 text-gray-800 border border-gray-300 outline-none focus:ring-2 focus:ring-cyan-400"></textarea>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-semibold mb-1"> ÄÃ­nh kÃ¨m hÃ¬nh áº£nh (tá»‘i Ä‘a 5 áº£nh)</label>
        <input type="file" id="image-input" name="images" accept="image/*" multiple class="w-full p-2 bg-gray-100 border border-gray-300 rounded" />
        <div id="image-preview" class="mt-2 flex flex-wrap gap-2"></div>
      </div>

      <div class="flex justify-end gap-4 mt-6">
        <button type="reset" class="bg-gray-200 hover:bg-gray-300 text-black px-6 py-2 rounded">Nháº­p láº¡i</button>
        <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded font-semibold">Gá»­i</button>
      </div>
    </form>
    {% else %}
    <div class="bg-green-100 text-green-800 p-6 mt-6 rounded-xl border border-green-300 text-center text-lg shadow">
      {% if category == "Gá»£i Ã½ thÃªm tÃ­nh nÄƒng" %}
   Cáº£m Æ¡n báº¡n Ä‘Ã£ gá»£i Ã½ cho SolverViet tÃ­nh nÄƒng má»›i, há»‡ thá»‘ng Ä‘Ã£ ghi nháº­n.  
  HÃ£y theo dÃµi <span class="text-yellow-600 font-semibold">ğŸ“¬ hÃ²m thÆ° ná»™i bá»™</span> Ä‘á»ƒ nháº­n pháº£n há»“i cá»§a SolverViet vÃ  tráº£i nghiá»‡m tá»‘t hÆ¡n nhÃ©!
{% elif category == "BÃ¡o lá»—i" %}
  Cáº£m Æ¡n báº¡n Ä‘Ã£ bÃ¡o lá»—i giÃºp SolverViet cáº£i thiá»‡n há»‡ thá»‘ng. Äá»™i ngÅ© sáº½ kiá»ƒm tra vÃ  xá»­ lÃ½ sá»›m nháº¥t.  
  HÃ£y theo dÃµi <span class="text-yellow-600 font-semibold">ğŸ“¬ hÃ²m thÆ° ná»™i bá»™</span> Ä‘á»ƒ nháº­n pháº£n há»“i cá»§a SolverViet sá»›m nháº¥t nhÃ©.
{% elif category == "GÃ³p Ã½ ná»™i dung" %}
  Cáº£m Æ¡n báº¡n Ä‘Ã£ gÃ³p Ã½ ná»™i dung, chÃºng tÃ´i ráº¥t trÃ¢n trá»ng Ä‘iá»u Ä‘Ã³.  
  Báº¡n hÃ£y theo dÃµi <span class="text-yellow-600 font-semibold">ğŸ“¬ hÃ²m thÆ° ná»™i bá»™</span> Ä‘á»ƒ nháº­n cáº­p nháº­t pháº£n há»“i cá»§a SolverViet nhÃ©.
{% elif category == "Khiáº¿u náº¡i" %}
 ChÃºng tÃ´i ráº¥t tiáº¿c vá» tráº£i nghiá»‡m khÃ´ng tá»‘t. ChÃºng tÃ´i sáº½ xá»­ lÃ½ khiáº¿u náº¡i sá»›m nháº¥t cÃ³ thá»ƒ.  
 Báº¡n hÃ£y theo dÃµi <span class="text-yellow-600 font-semibold">ğŸ“¬ hÃ²m thÆ° ná»™i bá»™</span> Ä‘á»ƒ khÃ´ng bá» lá»¡ pháº£n há»“i cá»§a SolverViet nhÃ©!
{% else %}
   Cáº£m Æ¡n báº¡n Ä‘Ã£ liÃªn há»‡ vá»›i SolverViet. Há»‡ thá»‘ng Ä‘Ã£ ghi nháº­n pháº£n há»“i cá»§a báº¡n.  
  Báº¡n sáº½ nháº­n pháº£n há»“i qua <span class="text-yellow-600 font-semibold">ğŸ“¬ hÃ²m thÆ° ná»™i bá»™</span> náº¿u cáº§n thiáº¿t.
{% endif %}

      <p class="mt-3 italic text-sm text-gray-600">TrÃ¢n trá»ng chÃ o báº¡n.</p>
  <a href="/" class="inline-flex items-center justify-center mt-6 px-6 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-sm font-semibold rounded-full shadow-lg hover:opacity-90 transition duration-200">
  â† Quay láº¡i trang chá»§
</a>


    </div>
    {% endif %}
  </div>

  <!-- Footer -->
  <footer class="text-center text-gray-600 text-sm mt-10 pb-6">
    <p>ğŸ“ Zalo há»— trá»£: <a href="tel:0865645752" class="text-blue-500">0865645752</a> | ğŸ“§ Email: <a href="mailto:phatth.viettel@gmail.com" class="text-blue-500">phatth.viettel@gmail.com</a></p>
    <p class="mt-1">SolverViet &copy; 2025. All rights reserved.</p>
  </footer>

  <!-- JS xá»­ lÃ½ preview áº£nh -->
  <script>
    const input = document.getElementById("image-input");
    const preview = document.getElementById("image-preview");
    let files = [];

    if (input) {
      input.addEventListener("change", () => {
        const selected = Array.from(input.files);
        const total = files.length + selected.length;

        if (total > 5) {
          alert("âŒ Báº¡n chá»‰ Ä‘Æ°á»£c gá»­i tá»‘i Ä‘a 5 áº£nh!");
          input.value = "";
          return;
        }

        selected.forEach(file => {
          if (!file.type.startsWith("image/")) return;

          const reader = new FileReader();
          reader.onload = e => {
            const wrapper = document.createElement("div");
            wrapper.className = "relative w-24 h-24 border rounded overflow-hidden";

            const img = document.createElement("img");
            img.src = e.target.result;
            img.className = "object-cover w-full h-full";

            const del = document.createElement("button");
            del.innerText = "âœ•";
            del.className = "absolute top-0 right-0 bg-red-500 text-white text-xs px-1 rounded-bl";
            del.onclick = () => {
              preview.removeChild(wrapper);
              files = files.filter(f => f !== file);
              updateInputFiles();
            };

            wrapper.appendChild(img);
            wrapper.appendChild(del);
            preview.appendChild(wrapper);

            files.push(file);
            updateInputFiles();
          };
          reader.readAsDataURL(file);
        });

        input.value = "";
      });

      function updateInputFiles() {
        const dataTransfer = new DataTransfer();
        files.forEach(f => dataTransfer.items.add(f));
        input.files = dataTransfer.files;
      }
    }
  </script>

</body>
</html>
