<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /><title>SmartDoc - NexuWord</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.2/lottie.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<link rel="stylesheet" href="{{ url_for('static', filename='js/css/style_noi_tu.css') }}"></head>
<div id="introScreen" class="fixed inset-0 bg-gradient-to-br from-cyan-700 via-blue-800 to-indigo-900 flex flex-col items-center justify-center z-50 text-white animate-fade-in"><svg class="w-24 h-24 animate-spin-slow text-cyan-300 mb-4" viewBox="0 0 100 100" fill="none"><circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="5" stroke-dasharray="15,10" /></svg><h2 class="text-3xl font-bold tracking-wide animate-pulse">Bắt đầu chiến nào!</h2><p class="text-sm text-cyan-100 italic mt-2 typewriter">Đang khởi động ván đấu...</p></div><body class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center p-4"><div class="absolute inset-0 bg-gradient-to-tr from-pink-400 via-cyan-400 to-purple-500 animate-gradient opacity-30 -z-10"></div><div class="text-center animate-fade-in space-y-4"><h1 class="text-5xl font-extrabold text-cyan-400 drop-shadow flex items-center justify-center gap-3"><i data-lucide="text" class="w-10 h-10 text-yellow-300 animate-bounce-slow"></i><span class="tracking-wide">NexuWord</span></h1><p class="text-sm text-gray-400 dark:text-gray-300 italic max-w-md mx-auto leading-snug">SolverViet © 2025. All rights reserved.</p><div class="flex justify-center flex-wrap gap-3 mt-2"><button id="btnLeaderboard" class="px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-white font-medium rounded-xl shadow-lg hover:scale-105 transition-all duration-200">Bảng xếp hạng</button><button id="start_button" onclick="startGame()" class="px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-2xl shadow-xl hover:scale-110 transition duration-300">Bắt đầu chơi</button><button id="history_button" onclick="openHistory()" class="px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-xl font-medium shadow-md hover:scale-105 transition-all duration-200">Lịch sử chơi</button></div><a href="/" class="block mt-2 text-sm text-gray-400 hover:text-cyan-400 transition duration-150">← Quay về trang chủ</a><p class="text-sm text-gray-600 dark:text-gray-400 italic mt-3"><span class="animate-ping inline-block text-pink-500 mr-1">❓</span><span onclick="openGoiYPopup()" class="text-blue-600 underline cursor-pointer hover:text-blue-800">Gợi ý thêm câu hỏi hoặc kiến thức cho AI</span></p></div><div id="avatars" class="flex items-center gap-6 mb-4 hidden"><div class="flex flex-col items-center"><img src="{{ avatar_url }}" class="w-16 h-16 rounded-full border-2 border-blue-400" /><span class="mt-1">Bạn</span></div><div class="relative flex items-start gap-2"><div class="flex flex-col items-center w-[90px] min-w-[90px]"><img src="/static/images/avatars/ai_avatar.png" class="w-16 h-16 rounded-full border-2 border-green-400" /><span class="mt-1 text-xs text-gray-300">AI</span></div><div class="absolute left-[100px] top-0"><div id="ai_taunt_text_bubble" class="relative bg-yellow-100 text-black text-sm px-4 py-2 rounded-2xl shadow-lg border border-yellow-400 hidden z-30 max-w-[300px] transition-opacity duration-300 opacity-0 text-center"><span id="taunt_text" class="font-medium block whitespace-nowrap text-ellipsis overflow-hidden"></span><div id="ai_meme_bubble" class="absolute top-1/2 -translate-y-1/2 -right-20 bg-white p-1.5 rounded-full border-2 border-yellow-400 shadow-xl hidden z-40 transition-transform duration-300 scale-90"><img id="taunt_meme_img" src="" alt="meme" class="w-16 h-16 object-cover rounded-full" /></div></div></div></div></div><div id="first_turn_msg" class="mb-2 text-sm text-gray-400 hidden"></div><div id="chat_box" class="w-full max-w-md bg-gray-800 rounded p-4 h-64 overflow-y-auto mb-4 text-sm space-y-2 border border-gray-700 hidden"></div><div class="flex justify-between items-center w-full max-w-md mb-2 hidden" id="turn_info"><div id="countdown" class="text-red-400 text-lg font-bold">30s</div><div id="mistake_count" class="text-red-500 font-semibold">Lượt sai: 3/3</div><button onclick="restartGame()" class="bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded">Chơi lại</button><button id="surrender_button" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded shadow ml-2">Đầu hàng</button></div><div class="w-full max-w-md flex gap-2 hidden" id="input_area"><input id="user_input" type="text" name="disable_autocomplete_123" autocomplete="off" autocorrect="off" spellcheck="false" placeholder="Nhập từ của bạn..." class="flex-1 p-2 rounded bg-gray-800 border border-gray-600 text-white" /><button onclick="submitUserWord()" class="bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded">Gửi</button></div><div id="popup_result" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-50"><div class="bg-white text-black p-6 rounded shadow-xl text-center w-96 space-y-4"><h2 id="result_text" class="text-xl font-bold">Kết thúc game</h2><div id="reward_area_win" class="hidden bg-yellow-100 dark:bg-gray-800 border-l-4 border-yellow-400 dark:border-yellow-300 p-4 rounded shadow-md animate__animated animate__bounceIn"><p id="ai_thua_reason" class="text-sm text-gray-700 dark:text-gray-300 italic mb-2">🥳</p><p class="text-lg font-semibold text-yellow-800 dark:text-yellow-300 mb-1">🎉 Bạn đã thắng! 🎉</p><p id="phrase_count_text" class="text-sm text-gray-300 mt-1"></p><p class="text-sm text-gray-800 dark:text-gray-200 mb-2">Bạn có quyền hỏi AI bất kỳ điều gì.</p><input id="user_reward_input" type="text" placeholder="Nhập câu hỏi của bạn..." class="w-full p-2 border border-yellow-400 dark:border-yellow-300 rounded focus:outline-none focus:ring-2 focus:ring-yellow-300 dark:focus:ring-yellow-400 shadow-sm bg-white dark:bg-gray-700 dark:text-white" /><div class="flex gap-2 mt-3 flex-wrap"><div class="text-center space-y-1"><button onclick="submitRewardQuestion()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded shadow">Gửi câu hỏi</button><p class="text-xs text-gray-600 dark:text-gray-400 italic"> Sau khi bấm gửi,vui lòng đợi khoảng 5-6 giây để AI phản hồi câu hỏi của bạn.</p></div><div class="flex flex-wrap justify-center gap-2 mt-3"><button onclick="openDictPopup()" class="dict_btn w-full sm:w-auto min-w-[120px] bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded hidden">Tra từ ngữ</button><button onclick="skipAIQuestion()" class="w-full sm:w-auto min-w-[120px] bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded shadow">Bỏ qua</button><button onclick="openShareWinPopup()" class="w-full sm:w-auto min-w-[120px] bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded">Chia sẻ chiến thắng</button></div></div><div id="ai_bonus_tip" class="text-sm text-green-600 dark:text-green-400 mt-4 italic"></div><div id="ai_reward_answer" class="text-sm text-left mt-3 text-gray-800 dark:text-gray-100"></div></div><div id="reward_area_lose" class="hidden w-[480px] max-w-full mx-auto bg-[#121a25] border-l-4 border-red-500 rounded-xl p-5 shadow-xl animate__animated animate__fadeInDown space-y-3"><p id="phrase_count_text_lose" class="text-sm text-gray-300 mt-1"></p><p class="text-center text-base font-bold text-red-400">=)))) Bạn đã thua cuộc!</p><p class="text-sm text-gray-300 text-center">Câu hỏi dành cho bạn như sau:</p><div id="ai_question_text" class="text-cyan-300 text-sm font-semibold text-center">Câu hỏi sẽ hiện ở đây</div><input id="user_answer_input" type="text" placeholder="Trả lời nếu bạn dám... 😳" class="w-full px-3 py-2 rounded-md bg-[#1e2b3a] border border-red-500 text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-400 placeholder-gray-400" /><div><button onclick="submitUserAnswer()" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white text-sm font-medium py-2 rounded-md transition">Gửi trả lời</button></div><div class="grid grid-cols-3 gap-2"><button onclick="reAskAIQuestion()" class="bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-medium py-1.5 rounded-md transition">Hỏi khác</button><button onclick="skipAIQuestion()" class="bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium py-1.5 rounded-md transition">Bỏ qua</button><button onclick="openDictPopup()" class="dict_btn hidden bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium py-1.5 rounded-md transition">Tra từ</button></div><div id="user_answer_feedback" class="text-sm text-gray-300 mt-1"></div></div></div></div>
<div id="play_again_popup" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-50"><div class="bg-white text-black p-6 rounded shadow-xl text-center w-80 space-y-4"><h2 class="text-lg font-semibold">Bạn muốn chơi lại không?</h2><div class="flex justify-center gap-4"><button onclick="restartGame()" class="bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded">Chơi lại</button><button onclick="window.location.href='/'" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded">Về trang chủ</button></div></div></div><div id="popup_luat_choi" class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden"><div class="bg-white text-black p-6 rounded-2xl shadow-2xl w-[90%] max-w-md space-y-5 text-base text-center animate-fade-in"><h2 class="text-2xl font-bold flex items-center justify-center gap-2 text-cyan-700"><span></span> Luật Chơi</h2><ul class="list-disc text-left ml-6 space-y-1 text-gray-700"><li>Trò chơi là màn đấu trí giữa bạn và AI với luật “nối từ có nghĩa”.</li><li>Mỗi cụm từ phải gồm <strong>2 từ có nghĩa</strong> (VD: “bút chì”, “chì đen”).</li><li><strong>Từ đầu tiên</strong> trong cụm từ bạn nhập phải <strong>trùng với từ cuối</strong> của AI.</li><li>Không được lặp lại cụm từ đã dùng, không dùng từ bịa hay tên riêng.</li><li>Bạn có <strong>3 lần sai tối đa</strong> — quá 3 là thua!</li><li>Mỗi lượt chỉ có <strong>30 giây</strong> để trả lời. Trễ là tính thua.</li><li>Nếu bạn thắng, bạn sẽ được <strong>đặt 1 câu hỏi bất kỳ cho AI</strong> 🎁</li><li>Nếu bạn thua, AI sẽ <strong>hỏi ngược lại bạn 1 câu cực hiểm</strong> 😈</li><li class="text-cyan-800 font-medium">Bạn được phép đảo vị trí từ nếu vẫn hợp nghĩa, ví dụ: “con mèo” nối lại thành “mèo con” vẫn hợp lệ.</li></ul><p class="text-sm text-gray-600 italic mt-2">❓ <span onclick="openGoiYPopup()" class="text-blue-600 underline cursor-pointer hover:text-blue-800">Gợi ý thêm câu hỏi hoặc kiến thức cho AI</span></p><button onclick="document.getElementById('popup_luat_choi').classList.add('hidden')" class="mt-4 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-semibold px-5 py-2 rounded-full shadow-md transition-all duration-200">Tôi đã hiểu, bắt đầu thôi!</button></div></div><div id="toast_message" class="fixed bottom-5 left-1/2 -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded shadow-lg hidden z-50"></div><div id="noi_tu_history_popup" class="hidden fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"><div class="bg-gray-900 text-white p-6 rounded-2xl shadow-xl w-full max-w-md relative animate-fade-in"><button onclick="closeHistoryPopup()" class="absolute top-2 right-3 text-gray-400 hover:text-white text-xl font-bold">&times;</button><h3 class="text-xl font-semibold mb-4 text-center">Lịch sử chơi gần đây</h3><div id="noi_tu_history_list" class="space-y-3 max-h-72 overflow-y-auto border border-gray-700 rounded p-2 text-sm"></div><div class="mt-4 text-center"><button onclick="loadNoiTuHistory()" class="bg-cyan-600 hover:bg-cyan-700 px-4 py-1.5 rounded shadow text-sm">Tải lại</button></div></div></div><div id="rewardConfirmPopup" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden"><div class="bg-white text-black rounded-lg p-6 max-w-sm w-full text-center shadow-lg"><p class="text-lg font-semibold mb-4">Bạn có muốn chơi lại không?</p><div class="flex justify-center gap-4"><button id="btnPlayAgain" class="bg-cyan-600 text-white px-4 py-2 rounded hover:bg-cyan-700">Chơi lại</button><button id="btnExit" class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">Thoát</button></div></div></div><div id="leaderboardPopup" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50"><div class="bg-white text-black dark:bg-gray-900 dark:text-white rounded-2xl p-6 w-full max-w-2xl shadow-2xl overflow-auto max-h-[80vh] border border-gray-300 dark:border-gray-700"><div class="flex justify-between items-center mb-4"><h2 class="text-2xl font-bold text-yellow-600 dark:text-yellow-400">🏆 Bảng xếp hạng NexuWord</h2><button id="closeLeaderboard" class="text-red-500 hover:text-red-700 text-2xl font-bold">×</button></div><div class="overflow-x-auto"><table class="min-w-full text-sm text-left border border-gray-200 dark:border-gray-700 rounded-md overflow-hidden"><thead class="bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-b dark:border-gray-600"><tr><th class="px-3 py-2">#</th><th class="px-3 py-2">Người chơi</th><th class="px-3 py-2 text-green-600 dark:text-green-400">Thắng</th><th class="px-3 py-2">Trận</th><th class="px-3 py-2">Tỷ lệ</th></tr></thead><tbody id="leaderboardBody" class="divide-y divide-gray-200 dark:divide-gray-700"></tbody></table></div><div id="yourRankInfo" class="mt-4 text-center text-sm text-yellow-600 dark:text-yellow-400 italic hidden"></div></div></div><div id="toast_gopy_error" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-6 py-3 rounded-xl shadow-2xl text-base font-semibold opacity-0 pointer-events-none transition-all duration-300 z-[9999] flex items-center gap-3 backdrop-blur-md border border-white/20"><div id="lottie_gopy_error" class="w-6 h-6"></div><span class="toast-msg">Gửi thất bại. Vui lòng thử lại sau!</span></div><div id="toast_gopy_success" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-cyan-500 text-white px-6 py-3 rounded-lg shadow-lg text-sm font-semibold opacity-0 pointer-events-none transition-all duration-500 z-[9999] flex items-center gap-3"><div id="lottie_gopy_success" class="w-6 h-6"></div>Cảm ơn bạn đã góp ý xây dựng kiến thức AI!</div><div id="dict_popup" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 text-black dark:text-white p-6 rounded-lg shadow-xl w-full max-w-md relative"><button onclick="closeDictPopup()" class="absolute top-2 right-2 text-gray-400 hover:text-red-500 text-lg">&times;</button><h3 class="text-xl font-bold mb-3">Tra cứu từ ngữ</h3><input id="dict_input" type="text" placeholder="Nhập từ cần tra..." autocomplete="off" autocorrect="off" autocapitalize="off" class="w-full p-2 mb-3 rounded text-black" /><button onclick="traCuuTu()" class="bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-1 rounded">Tra cứu</button><div id="dict_spinner" class="hidden flex justify-center mt-4"><div class="w-6 h-6 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"></div></div><div id="dict_result" class="mt-4 hidden space-y-1"><p><strong>Nghĩa:</strong> <span id="dict_nghia"></span></p><p><strong>Ví dụ:</strong> <span id="dict_vi_du"></span></p><p><strong>Đồng nghĩa:</strong> <span id="dict_dong_nghia" class="italic text-cyan-500"></span></p><p id="author_line" class="hidden"><strong>Người cung cấp:</strong> <span id="dict_author" class="text-sm italic text-gray-500"></span></p><p id="time_line" class="hidden"><strong>Giờ cập nhật:</strong> <span id="dict_time" class="text-sm italic text-gray-500"></span></p></div></div></div><div id="popup_share" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4"><div class="bg-white dark:bg-[#1b2735] p-6 rounded-xl w-full max-w-md text-black dark:text-white shadow-xl space-y-4"><h2 class="text-lg font-bold text-center text-pink-600 dark:text-pink-400">🎉 Chia sẻ chiến thắng của bạn!</h2><p id="share_reason" class="text-sm text-gray-700 dark:text-gray-300 text-center italic"></p><p id="share_total" class="text-sm text-center font-semibold text-cyan-600 dark:text-cyan-400"></p><div id="share_tip" class="text-sm mt-2 text-center"></div><div class="border-t border-gray-300 dark:border-gray-600 pt-3 space-y-2"><p class="text-sm text-gray-500 dark:text-gray-400 text-center italic">Đoạn cuối cùng:</p><div class="bg-gray-100 dark:bg-[#2a3a4d] rounded-md px-3 py-2 text-sm"><div><strong>Bạn:</strong> <span id="share_last_user" class="text-gray-800 dark:text-white"></span></div><div><strong>AI:</strong> <span id="share_last_ai" class="text-gray-800 dark:text-white"></span></div></div></div><p class="text-center text-sm text-gray-400 dark:text-gray-500">Liên kết chia sẻ: <span id="share_link" class="text-cyan-600 dark:text-cyan-400 font-semibold break-all"></span></p><div class="mt-4 flex justify-center gap-2"><button onclick="copyShareLink()" class="bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded text-sm">Sao chép liên kết</button><button onclick="document.getElementById('popup_share').classList.add('hidden')" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded text-sm">Đóng</button></div></div></div><div id="popup_goi_y" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden"><div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-[90%] max-w-md space-y-4 text-black dark:text-white shadow-xl animate-fade-in"><h3 class="text-lg font-bold text-cyan-700 dark:text-cyan-400">Góp ý cho AI</h3><div class="text-sm italic text-gray-600 dark:text-gray-300">Nếu bạn góp ý từ mới, vui lòng nhập: <strong>cụm từ</strong>, <strong>nghĩa</strong>, <strong>ví dụ sử dụng</strong> và (nếu có) <strong>từ đồng nghĩa</strong>.<br>📌 Ví dụ: <code>lúi cúi: dáng đi cúi người khi làm việc. VD: Bà cụ lúi cúi nhặt rau. Đồng nghĩa: lom khom, khòm người</code></div><div class="text-sm text-gray-700 dark:text-gray-300"><p><strong>User ID:</strong> <span id="popup_user_id" class="text-gray-900 dark:text-gray-100 font-mono"></span></p><p><strong>Tài khoản:</strong> <span id="popup_username" class="text-gray-900 dark:text-gray-100 font-semibold"></span></p></div><textarea id="goi_y_input" rows="4" class="w-full border rounded p-2 focus:outline-none focus:ring focus:ring-cyan-300 dark:bg-gray-700 dark:text-white dark:border-gray-500" placeholder="Bạn muốn AI học thêm điều gì?"></textarea><div class="flex justify-end gap-2"><button onclick="closeGoiYPopup()" class="px-4 py-1 text-sm bg-gray-300 dark:bg-gray-600 rounded hover:bg-gray-400 dark:hover:bg-gray-500">Huỷ</button><button onclick="submitGoiY()" class="px-4 py-1 text-sm bg-cyan-600 text-white rounded hover:bg-cyan-700">Gửi</button></div></div></div>
<script src="{{ url_for('static', filename='js/nexuword_mx18zyf923_porsche_carrera_gt_aa292_koenigseggccx.js') }}"></script><script>const CURRENT_USER_ID = "{{ user_id }}";const CURRENT_USERNAME = "{{ username }}";</script></body></html>