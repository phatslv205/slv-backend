<!DOCTYPE html><html lang="vi"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Solver Chat Lite</title><link rel="icon" href="/static/logos/favicon.png"><link rel="stylesheet" href="/static/js/css/style_lite.css"><script src="https://unpkg.com/lucide@latest"></script><script>window.MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]'],['$$','$$']]},svg:{fontCache:'global'}};</script><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script></head>
<body class="dark"><header style="background-color:#111;color:white;padding:24px 37px;display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #00bcd4;"><div style="display:flex;flex-direction:column;"><span style="font-size:27px;font-weight:bold;color:#00bcd4;">SolverViet</span><span style="font-size:16px;color:#aaa;margin-top:2px;">© 2025. All rights reserved.</span></div><div><a href="/" style="color:#00bcd4;text-decoration:none;display:flex;align-items:center;gap:10px;"><i data-lucide="home" style="width:24px;height:24px;"></i></a></div></header><div id="chat-container" data-chat-id="{{ chat_id }}"></div>
<div id="preview-wrapper" style="max-width:700px; margin: 0 auto; padding: 8px 24px 0;"><div id="image-preview" class="image-preview-container"></div></div><div id="input-area"><div class="chat-bar"><div class="plus-container"><button onclick="togglePlusMenu(event)"><i data-lucide='plus'></i></button><div id="plus-menu" class="plus-menu"><button onclick="reportIssue()"><i data-lucide="flag" style="width:18px;height:18px;margin-right:6px;"></i>Báo lỗi/Góp ý</button><button onclick="showStoragePopup()"><i data-lucide="database" style="width:18px;height:18px;margin-right:6px;"></i>Dung lượng và dữ liệu</button><button onclick="shareLocation()"><i data-lucide='map-pin'></i><span>Chia sẻ vị trí</span></button><button onclick="openUserInfoPopup()"><i data-lucide='user'></i><span>Thông tin cá nhân</span></button><button onclick="toggleTheme()"><i data-lucide='sun' id="theme-icon"></i><span>Chế độ sáng/tối</span></button><button onclick="saveCurrentChat()"><i data-lucide="save" style="width:18px;height:18px;margin-right:6px;"></i>Lưu đoạn chat</button><button onclick="showSavedChatPopup()"><i data-lucide="folder-open" style="width:18px;height:18px;margin-right:6px;"></i>Đoạn chat đã lưu</button><button onclick="showNewChatPopup()"><i data-lucide='plus-circle'></i><span>Đoạn chat mới</span></button></div></div><div id="file-preview"></div><div id="chat-input" contenteditable="true" placeholder="Nhập tin nhắn..." onkeydown="handleKey(event)" style=" flex:1;min-height:38px;max-height:120px;overflow-y:auto;padding:10px 14px;border-radius:12px;background:#ffffff;color:#000000;font-size:15px;border:1px solid #ffffff;outline:none;"></div><button id="upload-btn" onclick="document.getElementById('upload-input').click()"><i data-lucide="image"></i></button><input type="file" id="upload-input" accept="image/*" multiple style="display:none;"/><div id="mic-wrapper" style="display:inline-block;border-radius:50%;"><button id="micBtn" onclick="startVoiceRecognition()"><i data-lucide="mic"></i></button></div><button id="send-btn" data-api="/chat_ai_lite"><svg xmlns="http:stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg></button></div></div><p class="notice-lite" style="display:flex;flex-wrap:wrap;gap:6px;align-items:center;justify-content:center;text-align:center;"><span class="product">Lite</span><span>– phiên bản phản hồi ngắn gọn,đơn giản. Tuy nhiên,có thể có sai hoặc thiếu sót. Vui lòng kiểm tra lại kết quả trước khi sử dụng.</span><span><b>Lưu ý:</b>hiện tại chưa hỗ trợ tạo ảnh.</span></p>
<script src="{{ url_for('static', filename='lite.js/ukz.js') }}"></script>
<div id="user-info-popup-wrapper" style="display:none;"></div><div id="image-popup" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.7);justify-content:center;align-items:center;z-index:9999;"><img id="popup-img" src="" style="max-width:90vw;max-height:90vh;border-radius:12px;box-shadow:0 0 12px rgba(0,0,0,0.6);"/></div>
<div id="chat-new-popup" style="display:none;position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;"><div style="background:#fff;color:#000;padding:24px;border-radius:12px;max-width:90%;width:400px;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,0.5);"><h3 style="font-size:18px;font-weight:bold;color:#e74c3c;margin-bottom:12px;">Lưu ý trước khi tạo đoạn chat mới</h3><p style="font-size:14px;line-height:1.5;margin-bottom:20px;">Khi tạo đoạn chat mới,<strong>mọi dữ liệu trong đoạn hiện tại sẽ bị xóa sạch khỏi hệ thống.</strong><br>Bạn nên kiểm tra lại các thông tin hoặc kết quả cần thiết trước khi tiếp tục.</p><div style="display:flex;justify-content:center;gap:12px;"><button onclick="hideNewChatPopup()" style="padding:8px 16px;border-radius:6px;background:#777;color:#fff;border:none;">Huỷ</button><button onclick="confirmNewChat()" style="padding:8px 16px;border-radius:6px;background:#e74c3c;color:#fff;font-weight:bold;border:none;">Tạo đoạn mới</button></div></div></div>
<script src="{{ url_for('static', filename='lite.js/zka.js') }}"></script><div id="share-link-popup" style="display:none;position:fixed;inset:0;z-index:99999;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;"><div style=" background:#1e1e1e;color:white;padding:24px;border-radius:16px;width:100%;max-width:460px;box-sizing:border-box;box-shadow:0 10px 30px rgba(0,0,0,0.6);margin:12px;"><h3 style="font-size:17px;margin-bottom:14px;display:flex;align-items:center;gap:6px;"><svg xmlns="http:Link chia sẻ đoạn chat</h3><input id="share-link-input" type="text" readonly style="width:100%;padding:10px 14px;border-radius:8px;border:none;background:#2c2c2c;color:white;font-size:15px;box-sizing:border-box;"><div style="text-align:right;margin-top:18px;display:flex;justify-content:flex-end;gap:10px;"><button onclick="copyShareLink()" style="display:flex;align-items:center;gap:6px;padding:6px 14px;background:#27ae60;border:none;border-radius:8px;color:white;cursor:pointer;"><svg xmlns="http:<path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>Sao chép</button><button onclick="hideSharePopup()" style="padding:6px 14px;background:#444;border:none;border-radius:8px;color:white;">Đóng</button></div></div></div><div id="saved-chat-popup" style="display:none;position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;"><div style="background:#1e1e1e;color:#fff;padding:24px;border-radius:12px;max-width:90%;width:480px;max-height:80vh;overflow:auto;"><h3 style="font-size:18px;font-weight:bold;margin-bottom:16px;">Danh sách đoạn chat đã lưu</h3><div id="saved-chat-list"><p>Đang tải...</p></div><div style="text-align:right;margin-top:16px;"><button onclick="hideSavedChatPopup()" style="padding:6px 14px;border-radius:6px;background:#444;color:white;border:none;">Đóng</button></div></div></div><div id="save-chat-name-popup" style="display:none;position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;"><div style="background:#1e1e1e;color:#fff;padding:20px;border-radius:12px;width:90%;max-width:380px;"><h3 style="margin-bottom:10px;font-size:16px;">Đặt tên cho đoạn chat</h3><div style="background:#f1c40f15;color:#f1c40f;padding:6px 10px;border-radius:6px;font-size:12px;margin-bottom:14px;line-height:1.4;">Lưu ý:Để đảm bảo an toàn,vui lòng bảo quản tài khoản của bạn riêng tư.</div><input id="chat-title-input" type="text" placeholder="Nhập tên..." autocomplete="off" style="width:100%;padding:8px;border-radius:6px;border:none;margin-bottom:14px;background:#2c2c2c;color:white;"><div style="text-align:right;"><button onclick="confirmSaveChat()" style="padding:6px 14px;border-radius:6px;background:#00aced;color:white;border:none;">Lưu</button><button onclick="hideSaveChatNamePopup()" style="padding:6px 14px;border-radius:6px;background:#444;color:white;border:none;margin-left:8px;">Hủy</button></div></div></div><div id="chat-preview-popup" style="display:none;position:fixed;inset:0;z-index:99999;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;"><div style="background:#1e1e1e;color:#fff;padding:24px;border-radius:12px;max-width:95%;width:600px;max-height:85vh;overflow:auto;"><h3 id="preview-title" style="font-size:18px;font-weight:bold;margin-bottom:16px;">Xem đoạn chat</h3><div id="preview-messages" style="max-height:60vh;overflow:auto;"></div><div style="text-align:right;margin-top:16px;"><button onclick="hidePreviewPopup()" style="padding:6px 14px;border-radius:6px;background:#444;color:white;border:none;">Đóng</button></div></div></div><div id="storage-popup" style="display:none;position:fixed;inset:0;z-index:9999;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;"><div style="background:#1e1e1e;color:#fff;padding:24px;border-radius:12px;width:90%;max-width:500px;box-shadow:0 0 10px rgba(0,0,0,0.4);"><h3 style="margin-bottom:16px;">Phân tích dữ liệu</h3><div style="margin-bottom:14px;"><div style="font-size:14px;margin-bottom:4px;">Bạn đã sử dụng:<span id="storage-percent">0%</span>(<span id="storage-size">0 MB</span>)</div><div style="background:#333;border-radius:10px;overflow:hidden;height:16px;"><div id="storage-bar" style="width:0%;height:100%;background:linear-gradient(to right,#00c4ff,#007fff);transition:width 0.4s;box-shadow:0 0 6px #00c4ff;"></div></div></div><div style="margin-bottom:14px;"><div style="font-size:14px;margin-bottom:4px;">Dữ liệu hệ thống:26%</div><div style="background:#333;border-radius:10px;overflow:hidden;height:16px;"><div style="width:25%;height:100%;background:linear-gradient(to right,#9b59b6,#8e44ad);box-shadow:0 0 6px #9b59b6;"></div></div></div><div style="margin-bottom:20px;"><div style="font-size:14px;margin-bottom:4px;">Dung lượng dữ liệu nền:17%</div><div style="background:#333;border-radius:10px;overflow:hidden;height:16px;"><div style="width:15%;height:100%;background:linear-gradient(to right,#e67e22,#d35400);box-shadow:0 0 6px #e67e22;"></div></div></div><div id="reset-btn-wrap" style="display:flex;justify-content:flex-end;gap:10px;margin-top:16px;"><button onclick="showConfirmResetPopup()" style="background:#e74c3c;color:#fff;padding:6px 14px;border:none;border-radius:6px;">Dọn sạch</button><button onclick="hideStoragePopup()" style="background:#444;color:#fff;padding:6px 14px;border:none;border-radius:6px;">Đóng</button></div></div></div><div id="confirm-reset-popup" style="display:none;position:fixed;inset:0;z-index:10000;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;"><div style="background:#222;padding:20px;border-radius:10px;max-width:360px;width:90%;color:white;text-align:center;"><p style="margin-bottom:16px;">Bạn có muốn dọn sạch dữ liệu không?</p><div style="display:flex;justify-content:center;gap:12px;"><button onclick="confirmResetStorage()" style="background:#e74c3c;color:#fff;padding:6px 12px;border:none;border-radius:6px;">Có,dọn ngay</button><button onclick="hideConfirmResetPopup()" style="background:#555;color:#fff;padding:6px 12px;border:none;border-radius:6px;">Hủy</button></div></div></div>
<script src="{{ url_for('static', filename='lite.js/vat.js') }}"></script><script>lucide.createIcons();</script></body></html>