function isMathExpression(text){const mathKeywords=["phương trình","tính","giải pt","đạo hàm","tích phân","lim","căn","bậc","f(","đơn vị","cm","mm","giải bài","x=","pt"];const nonMathPatterns=["bạn tên","bạn là ai","ai tạo","sinh nhật","ở đâu","mấy giờ","trò chuyện","chat","có khỏe không","admin","trả lời","hé lô","xin chào"];const lower=text.toLowerCase();if(nonMathPatterns.some(p=>lower.includes(p)))return false;if(mathKeywords.some(k=>lower.includes(k)))return true;const mathRegex=/[0-9π√∫∑\^\+\-\*/=<>xXyYlim≈Δ]/i;return mathRegex.test(text);}