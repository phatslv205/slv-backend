const categorySelect = document.querySelector('select[name="category"]'); const changeEmailNote = document.getElementById('change-email-note'); const changeEmailInputs = document.getElementById('change-email-inputs'); const reportUserSection = document.getElementById('report-user-section'); const feedbackMessageBox = document.getElementById('feedback-message-box'); const feedbackTextarea = feedbackMessageBox?.querySelector('textarea[name="message"]'); function updateFormVisibility() { const value = categorySelect.value; const isChangeEmail = value === "Yêu cầu đổi email"; const isReportUser = value === "Tố cáo người dùng"; if (changeEmailNote) changeEmailNote.classList.toggle('hidden', !isChangeEmail); if (changeEmailInputs) { changeEmailInputs.classList.toggle('hidden', !isChangeEmail); const emailInputs = changeEmailInputs.querySelectorAll('input'); emailInputs.forEach(input => { if (isChangeEmail) { input.setAttribute('required', 'required'); } else { input.removeAttribute('required'); } }); } if (reportUserSection) reportUserSection.classList.toggle('hidden', !isReportUser); if (feedbackMessageBox) feedbackMessageBox.classList.toggle('hidden', isChangeEmail); if (feedbackTextarea) { if (isChangeEmail) { feedbackTextarea.removeAttribute('required'); } else { feedbackTextarea.setAttribute('required', 'required'); } } } if (categorySelect) { categorySelect.addEventListener('change', updateFormVisibility); updateFormVisibility(); } lucide.createIcons();